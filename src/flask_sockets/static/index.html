<!doctype html>
<title>Server Send Events Demo</title>
<style>
  #data {
    text-align: center;
  }
</style>
<body>
    <div id="data">nothing received yet</div>
</body>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
if (!!window.EventSource) {
    var source = new EventSource('/');
    source.onmessage = function(e) {
        var json = JSON.parse(e.data);
        var table = '<table class="mainTable"><tr><th>Count</th><th>Word</th></tr>';
        var data = $.parseJSON(e.data);
        $.each(data, function (idx, obj) {
           table += ('<tr>');
           table += ('<td>' + obj[1]+ "x" + '</td>');
           table += ('<td>' + obj[0] + '</td>');
           table += ('</tr>');
        });
        table += '</table>';
        $("#data").html(table);

    }
}
</script>
